distill::create_post("my_blogpost")
install.packages("postcards")
library(postcards)
library(postcards)
render("path/to/file.Rmd")
library(rmarkdown)
render("path/to/file.Rmd")
detach("package:postcards", unload = TRUE)
library(corrplot)
intercept<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
i_frontal=c(3.4,1.3,2.4,3.3,1.3,0.8,1.4,6.8,2.4,2.4,3.4,4.1,3.2,4.3,7.1,3.0,8.1,4.6,8.9,3.2,4.0),
i_temporal=c(1.8,1.4,6.7,2.3,2.4,3.4,4.1,3.2,4.3,3.1,3.0,5.7,4.6,8.2,3.2,4.0,3.4,8.3,2.4,3.3,1.3),
i_parietal=c(2.4,3.4,4.1,2.2,4.3,3.1,3.0,8.1,4.6,8.2,3.2,4.6,3.4,1.3,2.4,3.7,1.3,0.8,1.4,0.8,2.3),
i_occipital=c(8.1,4.6,8.2,3.2,4.0,3.4,1.3,2.4,7.3,1.3,0.8,1.4,6.8,2.3,2.7,3.4,4.1,3.2,4.3,3.1,3.0))
slope<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
i_frontal=c(1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0),
i_temporal=c(9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3),
i_parietal=c(2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3),
i_occipital=c(8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9))
#Correlation matrix
res_int <- cor(intercept[,c(2:5)])
res_slope <- cor(slope[,c(2:5)])
corrplot(res_int)
corrplot(res_slope)
nearPD(res_int)
library(Matrix)
nearPD(res_int)
intercept<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
i_frontal=c(3.4,1.3,2.4,3.3,1.3,0.8,1.4,6.8,2.4,2.4,3.4,4.1,3.2,4.3,7.1,3.0,8.1,4.6,8.9,3.2,4.0),
i_temporal=c(1.8,1.4,6.7,2.3,2.4,3.4,4.1,3.2,4.3,3.1,3.0,5.7,4.6,8.2,3.2,4.0,3.4,8.3,2.4,3.3,1.3),
i_parietal=c(2.4,3.4,4.1,2.2,4.3,3.1,3.0,8.1,4.6,8.2,3.2,4.6,3.4,1.3,2.4,3.7,1.3,0.8,1.4,0.8,2.3),
i_occipital=c(8.1,4.6,8.2,3.2,4.0,3.4,1.3,2.4,7.3,1.3,0.8,1.4,6.8,2.3,2.7,3.4,4.1,3.2,4.3,3.1,3.0))
slope<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
s_frontal=c(1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0),
s_temporal=c(9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3),
s_parietal=c(2.4,1.5,4.7,3.2,5.1,1.7,3.9,8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3),
s_occipital=c(8.7,5.6,8.2,3.2,4.0,1.4,7.3,2.5,1.1,7.3,9.8,7.5,6.8,2.3,2.4,1.5,4.7,3.2,5.1,1.7,3.9))
#Correlation matrix
res_int <- cor(intercept[,c(2:5)])
res_slope <- cor(slope[,c(2:5)])
corrplot(res_int)
corrplot(res_slope)
int_slope <- merge(intercept,slope,by=c("number"))
View(int_slope)
res_int_slope <- cor(slope[,c(2:9)])
res_int_slope <- cor(int_slope[,c(2:9)])
corrplot(res_int_slope)
nearPD(res_int)
nearPD(res_slope)
res_slope
#Schmid-Leiman transformation
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
library(psych)
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
install.packages("GPArotation")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=3,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=4,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin", option="first")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin", option="second")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_slope,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_slope,nfactors=3,fm="minres",rotate="oblimin")
schmid(res_slope,nfactors=3,fm="minres",rotate="oblimin")$RSMR
#I don't understand why they don't do a normal EFA?
fa.parallel(res_int,fm="minres")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")$s1
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")$orthog
schmid(res_int,nfactors=2,fm="minres",rotate="oblimin")$obliq
schmid(res_slope,nfactors=2,fm="minres",rotate="oblimin")
CFA_slope <- 'Cortex_gSlope =~ -0.34*s_frontal + 0.43*s_temporal + -0.39*s_parietal + 0.43*s_occipital
Cortex_Slope_F1 =~ 0.35*s_temporal 0.47*s_occipital
Cortex_Slope_F2 =~ 0.41*s_parietal'
fit_CFA_slope <- cfa(CFA_slope, data=slope,estimator="mlr",missing="fiml")
summary(fit_CFA_slope, fit.measures=TRUE,rsquare=T,standardized=T)
library(lavaan)
CFA_slope <- 'Cortex_gSlope =~ -0.34*s_frontal + 0.43*s_temporal + -0.39*s_parietal + 0.43*s_occipital
Cortex_Slope_F1 =~ 0.35*s_temporal 0.47*s_occipital
Cortex_Slope_F2 =~ 0.41*s_parietal'
fit_CFA_slope <- cfa(CFA_slope, data=slope,estimator="mlr",missing="fiml")
summary(fit_CFA_slope, fit.measures=TRUE,rsquare=T,standardized=T)
CFA_slope <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal s_occipital
Cortex_Slope_F2 =~ s_parietal'
fit_CFA_slope <- cfa(CFA_slope, data=slope,estimator="mlr",missing="fiml")
CFA_slope <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal + s_occipital
Cortex_Slope_F2 =~ s_parietal'
fit_CFA_slope <- cfa(CFA_slope, data=slope,estimator="mlr",missing="fiml")
CFA_slope <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal + s_occipital
Cortex_Slope_F2 =~ s_parietal
Cortex_gSlope ~~ 0*Cortex_Slope_F1
Cortex_gSlope ~~ 0*Cortex_Slope_F2
Cortex_Slope_F1 ~~ Cortex_Slope_F2'
fit_CFA_slope <- cfa(CFA_slope, data=slope,estimator="mlr",missing="fiml")
cognition<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
memory=c(9,6,7,9,5,7,4,9,3,7,5,5,9,3,8,4,7,6,7,8,9),
reading=c(5,6,8,6,7,4,6,7,5,8,6,7,8,0,4,7,5,9,6,9,8),
reaction_time=c(7,3,9,8,6,4,8,9,7,6,9,5,7,9,3,5,6,8,6,8,7),
problem_solving=c(3,4,2,3,5,4,4,2,3,1,3,4,2,3,5,4,5,3,5,4,5))
cognition<-data.frame(number=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21),
i_memory=c(9,6,7,9,5,7,4,9,3,7,5,5,9,3,8,4,7,6,7,8,9),
i_reading=c(5,6,8,6,7,4,6,7,5,8,6,7,8,0,4,7,5,9,6,9,8),
s_memory=c(7,3,9,8,6,4,8,9,7,6,9,5,7,9,3,5,6,8,6,8,7),
s_reading=c(3,4,2,3,5,4,4,2,3,1,3,4,2,3,5,4,5,3,5,4,5))
data <- merge(int_slope,cognition,by=c("number"))
CFA_cog <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal + s_occipital
Cortex_Slope_F2 =~ s_parietal
Cortex_gSlope ~~ 0*Cortex_Slope_F1
Cortex_gSlope ~~ 0*Cortex_Slope_F2
Cortex_Slope_F1 ~~ Cortex_Slope_F2
Cognition_level =~ i_memory + i_reading
Cognition_slope =~ s_memory + s_reading
'
fit_CFA_cog <- cfa(CFA_cog, data=data,estimator="mlr",missing="fiml")
summary(fit_CFA_cog, fit.measures=TRUE,rsquare=T,standardized=T)
CFA_cog <- 'Cognition_level =~ i_memory + i_reading
Cognition_slope =~ s_memory + s_reading
'
fit_CFA_cog <- cfa(CFA_cog, data=data,estimator="mlr",missing="fiml")
summary(fit_CFA_cog, fit.measures=TRUE,rsquare=T,standardized=T)
#CFA slope and cognition
CFA_slope_cog <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal + s_occipital
Cortex_Slope_F2 =~ s_parietal
Cortex_gSlope ~~ 0*Cortex_Slope_F1
Cortex_gSlope ~~ 0*Cortex_Slope_F2
Cortex_Slope_F1 ~~ Cortex_Slope_F2
Cognition_level =~ i_memory + i_reading
Cognition_slope =~ s_memory + s_reading
'
fit_CFA_slope_cog <- cfa(CFA_slope_cog, data=data,estimator="mlr",missing="fiml")
summary(fit_CFA_slope_cog, fit.measures=TRUE,rsquare=T,standardized=T)
#CFA cognition
CFA_cog <- 'Cognition_level =~ i_memory + i_reading
Cognition_slope =~ s_memory + s_reading
Cognition_level ~~ Cognition_slope
'
fit_CFA_cog <- cfa(CFA_cog, data=data,estimator="mlr",missing="fiml")
summary(fit_CFA_cog, fit.measures=TRUE,rsquare=T,standardized=T)
#CFA slope and cognition
CFA_slope_cog <- 'Cortex_gSlope =~ s_frontal + s_temporal + s_parietal + s_occipital
Cortex_Slope_F1 =~ s_temporal + s_occipital
Cortex_Slope_F2 =~ s_parietal
Cortex_gSlope ~~ 0*Cortex_Slope_F1
Cortex_gSlope ~~ 0*Cortex_Slope_F2
Cortex_Slope_F1 ~~ Cortex_Slope_F2
Cognition_level =~ i_memory + i_reading
Cognition_slope =~ s_memory + s_reading
Cognition_level ~~ Cognition_slope
Cortex_gSlope ~ Cognition_level
Cortex_gSlope ~ Cognition_slope
Cortex_Slope_F1 ~ Cognition_level
Cortex_Slope_F1 ~ Cognition_slope
Cortex_Slope_F2 ~ Cognition_level
Cortex_Slope_F2 ~ Cognition_slope
'
fit_CFA_slope_cog <- cfa(CFA_slope_cog, data=data,estimator="mlr",missing="fiml")
summary(fit_CFA_slope_cog, fit.measures=TRUE,rsquare=T,standardized=T)
